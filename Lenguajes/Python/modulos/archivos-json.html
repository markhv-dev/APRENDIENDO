<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Archivos y JSON - Python</title>
    <link rel="stylesheet" href="../../../assets/css/sidebar.css">
    <link rel="stylesheet" href="../../../assets/css/glosario.css">
    <link rel="stylesheet" href="../../../assets/css/toc.css">
    <link rel="stylesheet" href="../../../assets/css/keyboard-navigation.css">
    <!-- Highlight.js para resaltado de sintaxis -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
</head>
<body>
    <header>
        <a href="../index.html" class="back-link">‚Üê Volver a Python</a>
        <span class="icon">üêç</span>
        <h1>M√≥dulo 7: Archivos y JSON</h1>
        <p class="subtitle">Lectura, escritura y manipulaci√≥n de archivos</p>
    </header>

    <div class="content-with-toc">
        <main class="main-content">
            <section id="introduccion" style="background: linear-gradient(135deg, rgba(55, 118, 171, 0.1) 0%, rgba(55, 118, 171, 0.05) 100%); padding: 30px; border-radius: 12px; border-left: 4px solid #3776ab; margin-bottom: 40px;">
                <h2 style="color: #3776ab; margin-bottom: 15px; font-size: 1.8em;">üìÅ Manejo de Archivos</h2>
                <p style="font-size: 1.1em; line-height: 1.8; color: #e0e0e0; margin-bottom: 20px;">
                    El manejo de archivos permite guardar y recuperar informaci√≥n de manera persistente.
                    Python facilita la lectura, escritura y manipulaci√≥n de archivos de texto, binarios y JSON.
                </p>
            </section>

            <section id="terminos" class="topic-section">
                <div id="terminosContainer">
                    <div class="termino" id="open" data-tags="open abrir archivo file">
                        <span class="tag">üìã Funci√≥n open()</span>
                        <p class="significado">Abrir archivos para lectura o escritura</p>
                        <div class="ejemplo"># Sintaxis: open(archivo, modo, encoding)

# Modos de apertura:
# 'r'  - Lectura (error si no existe)
# 'w'  - Escritura (sobrescribe si existe, crea si no)
# 'a'  - A√±adir (crea si no existe, escribe al final)
# 'x'  - Crear nuevo (error si ya existe)
# 'r+' - Lectura y escritura (debe existir)
# 'w+' - Lectura y escritura (sobrescribe o crea)
# 'a+' - Lectura y escritura (a√±ade al final)
# 'b'  - Modo binario (ej: 'rb', 'wb')
# 't'  - Modo texto (por defecto)

# Forma tradicional (hay que cerrar)
archivo = open("datos.txt", "r")
contenido = archivo.read()
archivo.close()  # Importante cerrar

# Forma recomendada: with (cierra autom√°ticamente)
with open("datos.txt", "r", encoding="utf-8") as archivo:
    contenido = archivo.read()
# El archivo se cierra autom√°ticamente aqu√≠

# Especificar encoding (importante para acentos)
with open("datos.txt", "r", encoding="utf-8") as f:
    texto = f.read()</div>
                    <div class="vista-previa">
                        <strong>üëÅÔ∏è Vista previa de archivos y JSON:</strong>
                        <div class="preview-content">
                            <p><strong>C√≥digo Python:</strong></p>
                            <pre style="white-space: pre-wrap; background: #2c3e50; color: #ecf0f1; padding: 15px; border-radius: 6px; font-family: 'Courier New', monospace;">import json

# Trabajar con JSON
datos = {
    "nombre": "Juan",
    "edad": 30,
    "ciudad": "Madrid"
}

# Convertir a JSON
json_string = json.dumps(datos, indent=2)
print("JSON generado:")
print(json_string)

# Leer archivo
with open("datos.txt", "w") as archivo:
    archivo.write("Hola Python")

with open("datos.txt", "r") as archivo:
    contenido = archivo.read()
    print(f"\nContenido del archivo: {contenido}")</pre>
                            <p><strong>üì§ Salida en terminal:</strong></p>
                            <div style="background: #1e1e1e; color: #4ec9b0; font-family: 'Courier New', monospace; padding: 12px; border-radius: 6px; border-left: 3px solid #3776ab;">
                                <span style="color: #dcdcaa;">JSON generado:</span><br>
                                <span style="color: #dcdcaa;">{</span><br>
                                <span style="color: #dcdcaa;">  "nombre": "Juan",</span><br>
                                <span style="color: #dcdcaa;">  "edad": 30,</span><br>
                                <span style="color: #dcdcaa;">  "ciudad": "Madrid"</span><br>
                                <span style="color: #dcdcaa;">}</span><br><br>
                                <span style="color: #dcdcaa;">Contenido del archivo: Hola Python</span>
                            </div>
                        </div>
                    </div>

                        <div class="nota">
                            <strong>üí° Siempre usa:</strong> 'with open()' para asegurar que el archivo se cierre correctamente.
                        </div>
                    </div>

                    <div class="termino" id="lectura" data-tags="read readline readlines leer">
                        <span class="tag">üìã Lectura de Archivos</span>
                        <p class="significado">Diferentes formas de leer contenido</p>
                        <div class="ejemplo"># Leer todo el contenido
with open("datos.txt", "r") as f:
    contenido = f.read()
    print(contenido)

# Leer N caracteres
with open("datos.txt", "r") as f:
    primeros_100 = f.read(100)

# Leer una l√≠nea
with open("datos.txt", "r") as f:
    primera_linea = f.readline()
    segunda_linea = f.readline()

# Leer todas las l√≠neas (lista)
with open("datos.txt", "r") as f:
    lineas = f.readlines()
    # ['l√≠nea 1\n', 'l√≠nea 2\n', ...]

# Iterar l√≠nea por l√≠nea (eficiente en memoria)
with open("datos.txt", "r") as f:
    for linea in f:
        print(linea.strip())  # strip() quita \n

# Contar l√≠neas
with open("datos.txt", "r") as f:
    num_lineas = sum(1 for _ in f)

# Verificar si archivo existe
import os
if os.path.exists("datos.txt"):
    with open("datos.txt", "r") as f:
        contenido = f.read()</div>
                    <div class="vista-previa" style="margin-top: 30px;">
                        <strong>üëÅÔ∏è Vista previa: M√©todos de Lectura</strong>
                        <div class="preview-content">
                            <div style="background: #ecf0f1; padding: 25px; border-radius: 8px;">
                                <div style="margin-bottom: 20px;">
                                    <strong style="color: #2c3e50;">üìÑ Contenido del archivo "datos.txt":</strong>
                                    <div style="background: white; padding: 15px; border-radius: 5px; margin-top: 10px; border-left: 4px solid #3498db;">
                                        <pre style="margin: 0; color: #2c3e50;">Primera l√≠nea
Segunda l√≠nea
Tercera l√≠nea
Cuarta l√≠nea</pre>
                                    </div>
                                </div>

                                <div style="margin-bottom: 20px;">
                                    <strong style="color: #2c3e50;">üîç read() - Lee todo:</strong>
                                    <div style="background: #3498db; color: white; padding: 12px; border-radius: 5px; margin-top: 8px;">
                                        ‚Üí Resultado: "Primera l√≠nea\nSegunda l√≠nea\nTercera l√≠nea\nCuarta l√≠nea"
                                    </div>
                                </div>

                                <div style="margin-bottom: 20px;">
                                    <strong style="color: #2c3e50;">üìù readline() - Lee l√≠nea por l√≠nea:</strong>
                                    <div style="background: #2ecc71; color: white; padding: 12px; border-radius: 5px; margin-top: 8px;">
                                        ‚Üí Primera llamada: "Primera l√≠nea\n"<br>
                                        ‚Üí Segunda llamada: "Segunda l√≠nea\n"
                                    </div>
                                </div>

                                <div>
                                    <strong style="color: #2c3e50;">üìã readlines() - Lee todas como lista:</strong>
                                    <div style="background: #9b59b6; color: white; padding: 12px; border-radius: 5px; margin-top: 8px;">
                                        ‚Üí ['Primera l√≠nea\n', 'Segunda l√≠nea\n', 'Tercera l√≠nea\n', 'Cuarta l√≠nea']
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    </div>

                    <div class="termino" id="escritura" data-tags="write writelines escribir guardar">
                        <span class="tag">üìã Escritura de Archivos</span>
                        <p class="significado">Escribir y guardar contenido</p>
                        <div class="ejemplo"># Escribir texto (sobrescribe todo)
with open("salida.txt", "w") as f:
    f.write("Hola mundo\n")
    f.write("Segunda l√≠nea\n")

# Escribir m√∫ltiples l√≠neas
lineas = ["L√≠nea 1\n", "L√≠nea 2\n", "L√≠nea 3\n"]
with open("salida.txt", "w") as f:
    f.writelines(lineas)

# A√±adir al final (no sobrescribe)
with open("log.txt", "a") as f:
    f.write("Nuevo registro\n")

# Crear archivo nuevo (error si existe)
try:
    with open("nuevo.txt", "x") as f:
        f.write("Archivo nuevo")
except FileExistsError:
    print("El archivo ya existe")

# Escribir variables
nombre = "Ana"
edad = 25
with open("datos.txt", "w") as f:
    f.write(f"Nombre: {nombre}\n")
    f.write(f"Edad: {edad}\n")

# Guardar lista
datos = ["manzana", "pera", "uva"]
with open("frutas.txt", "w") as f:
    for fruta in datos:
        f.write(f"{fruta}\n")</div>
                    <div class="vista-previa" style="margin-top: 30px;">
                        <strong>üëÅÔ∏è Vista previa: Escritura de Archivos</strong>
                        <div class="preview-content">
                            <div style="background: #ecf0f1; padding: 25px; border-radius: 8px;">
                                <div style="margin-bottom: 20px;">
                                    <strong style="color: #2c3e50;">üìù Modo 'w' (write) - Sobrescribe:</strong>
                                    <div style="display: flex; gap: 15px; margin-top: 10px;">
                                        <div style="flex: 1; background: #e74c3c; color: white; padding: 15px; border-radius: 5px;">
                                            <strong>Antes:</strong><br>
                                            archivo.txt:<br>
                                            "Contenido antiguo"
                                        </div>
                                        <div style="align-self: center; font-size: 24px;">‚Üí</div>
                                        <div style="flex: 1; background: #2ecc71; color: white; padding: 15px; border-radius: 5px;">
                                            <strong>Despu√©s (modo 'w'):</strong><br>
                                            archivo.txt:<br>
                                            "Contenido nuevo"
                                        </div>
                                    </div>
                                </div>

                                <div style="margin-bottom: 20px;">
                                    <strong style="color: #2c3e50;">‚ûï Modo 'a' (append) - Agrega al final:</strong>
                                    <div style="display: flex; gap: 15px; margin-top: 10px;">
                                        <div style="flex: 1; background: #3498db; color: white; padding: 15px; border-radius: 5px;">
                                            <strong>Antes:</strong><br>
                                            log.txt:<br>
                                            "Registro 1<br>Registro 2"
                                        </div>
                                        <div style="align-self: center; font-size: 24px;">‚Üí</div>
                                        <div style="flex: 1; background: #2ecc71; color: white; padding: 15px; border-radius: 5px;">
                                            <strong>Despu√©s (modo 'a'):</strong><br>
                                            log.txt:<br>
                                            "Registro 1<br>Registro 2<br>Registro 3"
                                        </div>
                                    </div>
                                </div>

                                <div>
                                    <strong style="color: #2c3e50;">‚ú® Modo 'x' (exclusive) - Crea solo si no existe:</strong>
                                    <div style="background: #f39c12; color: white; padding: 12px; border-radius: 5px; margin-top: 8px;">
                                        ‚úì Si no existe ‚Üí Crea el archivo<br>
                                        ‚úó Si ya existe ‚Üí FileExistsError
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    </div>

                    <div class="termino" id="modulo-os" data-tags="os sistema archivos directorios">
                        <span class="tag">üìã M√≥dulo os</span>
                        <p class="significado">Interactuar con el sistema operativo</p>
                        <div class="ejemplo">import os

# Directorio actual
print(os.getcwd())

# Listar archivos
archivos = os.listdir(".")
print(archivos)

# Verificar si existe
os.path.exists("archivo.txt")  # True/False
os.path.isfile("archivo.txt")  # Es archivo?
os.path.isdir("carpeta")       # Es directorio?

# Crear directorio
os.mkdir("nueva_carpeta")
os.makedirs("ruta/anidada/carpeta")  # Crea intermedios

# Eliminar
os.remove("archivo.txt")       # Eliminar archivo
os.rmdir("carpeta_vacia")      # Eliminar carpeta vac√≠a

# Renombrar/mover
os.rename("viejo.txt", "nuevo.txt")

# Rutas
ruta = os.path.join("carpeta", "subcarpeta", "archivo.txt")
# "carpeta/subcarpeta/archivo.txt"

nombre = os.path.basename("/ruta/al/archivo.txt")
# "archivo.txt"

directorio = os.path.dirname("/ruta/al/archivo.txt")
# "/ruta/al"

# Separar nombre y extensi√≥n
nombre, extension = os.path.splitext("archivo.txt")
# "archivo", ".txt"

# Variables de entorno
os.getenv("HOME")
os.environ.get("PATH")</div>
                    <div class="vista-previa" style="margin-top: 30px;">
                        <strong>üëÅÔ∏è Vista previa: M√≥dulo os</strong>
                        <div class="preview-content">
                            <div style="background: #ecf0f1; padding: 25px; border-radius: 8px;">
                                <div style="margin-bottom: 20px;">
                                    <strong style="color: #2c3e50;">üìÇ Estructura de Directorios:</strong>
                                    <div style="background: white; padding: 15px; border-radius: 5px; margin-top: 10px; border-left: 4px solid #3498db;">
                                        <pre style="margin: 0; color: #2c3e50;">proyecto/
‚îú‚îÄ‚îÄ archivo1.txt
‚îú‚îÄ‚îÄ archivo2.py
‚îî‚îÄ‚îÄ carpeta/
    ‚îî‚îÄ‚îÄ archivo3.json</pre>
                                    </div>
                                </div>

                                <div style="margin-bottom: 20px;">
                                    <strong style="color: #2c3e50;">üîç Operaciones principales:</strong>
                                    <div style="background: #3498db; color: white; padding: 12px; border-radius: 5px; margin-top: 8px; margin-bottom: 8px;">
                                        <strong>os.getcwd()</strong> ‚Üí "/home/usuario/proyecto"
                                    </div>
                                    <div style="background: #2ecc71; color: white; padding: 12px; border-radius: 5px; margin-bottom: 8px;">
                                        <strong>os.listdir(".")</strong> ‚Üí ['archivo1.txt', 'archivo2.py', 'carpeta']
                                    </div>
                                    <div style="background: #9b59b6; color: white; padding: 12px; border-radius: 5px; margin-bottom: 8px;">
                                        <strong>os.path.exists("archivo1.txt")</strong> ‚Üí True
                                    </div>
                                    <div style="background: #f39c12; color: white; padding: 12px; border-radius: 5px;">
                                        <strong>os.path.join("carpeta", "archivo")</strong> ‚Üí "carpeta/archivo"
                                    </div>
                                </div>

                                <div>
                                    <strong style="color: #2c3e50;">‚öôÔ∏è Separar ruta y extensi√≥n:</strong>
                                    <div style="background: #e74c3c; color: white; padding: 12px; border-radius: 5px; margin-top: 8px;">
                                        os.path.splitext("archivo.txt")<br>
                                        ‚Üí ("archivo", ".txt")
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    </div>

                    <div class="termino" id="json-intro" data-tags="json javascript object notation">
                        <span class="tag">üìã JSON - Introducci√≥n</span>
                        <p class="significado">Formato de texto para almacenar datos</p>
                        <div class="ejemplo">import json

# JSON es muy similar a diccionarios de Python
# Conversi√≥n JSON ‚Üî Python:
# JSON      ‚Üí  Python
# {}        ‚Üí  dict
# []        ‚Üí  list
# "texto"   ‚Üí  str
# 123.45    ‚Üí  int/float
# true      ‚Üí  True
# false     ‚Üí  False
# null      ‚Üí  None

# Ejemplo de JSON (como string):
json_string = '''
{
    "nombre": "Ana",
    "edad": 25,
    "activo": true,
    "cursos": ["Python", "Java"],
    "direccion": null
}
'''

# En Python ser√≠a:
python_dict = {
    "nombre": "Ana",
    "edad": 25,
    "activo": True,
    "cursos": ["Python", "Java"],
    "direccion": None
}</div>
                    <div class="vista-previa" style="margin-top: 30px;">
                        <strong>üëÅÔ∏è Vista previa: Conversi√≥n JSON ‚Üî Python</strong>
                        <div class="preview-content">
                            <div style="background: #ecf0f1; padding: 25px; border-radius: 8px;">
                                <div style="margin-bottom: 20px;">
                                    <strong style="color: #2c3e50;">üìä Tabla de Conversi√≥n:</strong>
                                    <table style="width: 100%; margin-top: 10px; background: white; border-radius: 5px; overflow: hidden;">
                                        <tr style="background: #3498db; color: white;">
                                            <th style="padding: 12px; text-align: left;">JSON</th>
                                            <th style="padding: 12px; text-align: center;">‚Üî</th>
                                            <th style="padding: 12px; text-align: left;">Python</th>
                                        </tr>
                                        <tr style="background: #ecf0f1;">
                                            <td style="padding: 10px;"><code>{}</code></td>
                                            <td style="padding: 10px; text-align: center;">‚Üí</td>
                                            <td style="padding: 10px;"><code>dict</code></td>
                                        </tr>
                                        <tr style="background: white;">
                                            <td style="padding: 10px;"><code>[]</code></td>
                                            <td style="padding: 10px; text-align: center;">‚Üí</td>
                                            <td style="padding: 10px;"><code>list</code></td>
                                        </tr>
                                        <tr style="background: #ecf0f1;">
                                            <td style="padding: 10px;"><code>"texto"</code></td>
                                            <td style="padding: 10px; text-align: center;">‚Üí</td>
                                            <td style="padding: 10px;"><code>str</code></td>
                                        </tr>
                                        <tr style="background: white;">
                                            <td style="padding: 10px;"><code>123</code></td>
                                            <td style="padding: 10px; text-align: center;">‚Üí</td>
                                            <td style="padding: 10px;"><code>int</code></td>
                                        </tr>
                                        <tr style="background: #ecf0f1;">
                                            <td style="padding: 10px;"><code>true / false</code></td>
                                            <td style="padding: 10px; text-align: center;">‚Üí</td>
                                            <td style="padding: 10px;"><code>True / False</code></td>
                                        </tr>
                                        <tr style="background: white;">
                                            <td style="padding: 10px;"><code>null</code></td>
                                            <td style="padding: 10px; text-align: center;">‚Üí</td>
                                            <td style="padding: 10px;"><code>None</code></td>
                                        </tr>
                                    </table>
                                </div>

                                <div>
                                    <strong style="color: #2c3e50;">üìù Ejemplo de conversi√≥n:</strong>
                                    <div style="display: flex; gap: 15px; margin-top: 10px;">
                                        <div style="flex: 1; background: #f39c12; color: white; padding: 15px; border-radius: 5px;">
                                            <strong>JSON:</strong><br>
                                            {"activo": true}
                                        </div>
                                        <div style="align-self: center; font-size: 24px;">‚Üî</div>
                                        <div style="flex: 1; background: #3498db; color: white; padding: 15px; border-radius: 5px;">
                                            <strong>Python:</strong><br>
                                            {"activo": True}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    </div>

                    <div class="termino" id="json-loads-dumps" data-tags="json loads dumps serializar deserializar">
                        <span class="tag">üìã json.loads() y json.dumps()</span>
                        <p class="significado">Convertir entre JSON string y Python</p>
                        <div class="ejemplo">import json

# json.loads() - JSON string ‚Üí Python (deserializar/parsear)
json_string = '{"nombre": "Ana", "edad": 25}'
datos = json.loads(json_string)
print(datos["nombre"])  # "Ana"
print(type(datos))      # <class 'dict'>

# json.dumps() - Python ‚Üí JSON string (serializar)
persona = {"nombre": "Juan", "edad": 30, "activo": True}
json_str = json.dumps(persona)
print(json_str)  # '{"nombre": "Juan", "edad": 30, "activo": true}'

# Con formato legible (indentaci√≥n)
json_bonito = json.dumps(persona, indent=4)
print(json_bonito)
# {
#     "nombre": "Juan",
#     "edad": 30,
#     "activo": true
# }

# Ordenar claves
json_ordenado = json.dumps(persona, sort_keys=True)

# Manejar caracteres especiales
datos = {"mensaje": "Hola √±"}
json.dumps(datos, ensure_ascii=False)  # Mantiene acentos</div>
                    <div class="vista-previa" style="margin-top: 30px;">
                        <strong>üëÅÔ∏è Vista previa: loads() y dumps()</strong>
                        <div class="preview-content">
                            <div style="background: #ecf0f1; padding: 25px; border-radius: 8px;">
                                <div style="margin-bottom: 20px;">
                                    <strong style="color: #2c3e50;">üîÑ json.loads() - String ‚Üí Python:</strong>
                                    <div style="display: flex; gap: 15px; margin-top: 10px;">
                                        <div style="flex: 1; background: #f39c12; color: white; padding: 15px; border-radius: 5px;">
                                            <strong>Entrada (string JSON):</strong><br>
                                            '{"edad": 25, "activo": true}'
                                        </div>
                                        <div style="align-self: center; font-size: 24px;">‚Üí</div>
                                        <div style="flex: 1; background: #3498db; color: white; padding: 15px; border-radius: 5px;">
                                            <strong>Salida (dict Python):</strong><br>
                                            {"edad": 25, "activo": True}
                                        </div>
                                    </div>
                                </div>

                                <div style="margin-bottom: 20px;">
                                    <strong style="color: #2c3e50;">üîÑ json.dumps() - Python ‚Üí String:</strong>
                                    <div style="display: flex; gap: 15px; margin-top: 10px;">
                                        <div style="flex: 1; background: #3498db; color: white; padding: 15px; border-radius: 5px;">
                                            <strong>Entrada (dict Python):</strong><br>
                                            {"nombre": "Ana", "edad": 25}
                                        </div>
                                        <div style="align-self: center; font-size: 24px;">‚Üí</div>
                                        <div style="flex: 1; background: #f39c12; color: white; padding: 15px; border-radius: 5px;">
                                            <strong>Salida (string JSON):</strong><br>
                                            '{"nombre": "Ana", "edad": 25}'
                                        </div>
                                    </div>
                                </div>

                                <div>
                                    <strong style="color: #2c3e50;">‚ú® Con formato (indent=4):</strong>
                                    <div style="background: #2ecc71; color: white; padding: 15px; border-radius: 5px; margin-top: 8px;">
                                        <pre style="margin: 0;">{
    "nombre": "Juan",
    "edad": 30,
    "activo": true
}</pre>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    </div>

                    <div class="termino" id="json-archivos" data-tags="json load dump archivo guardar leer">
                        <span class="tag">üìã JSON con Archivos</span>
                        <p class="significado">Guardar y leer JSON desde archivos</p>
                        <div class="ejemplo">import json

# Guardar JSON en archivo - json.dump()
datos = {
    "usuarios": [
        {"nombre": "Ana", "edad": 25},
        {"nombre": "Juan", "edad": 30}
    ]
}

with open("datos.json", "w", encoding="utf-8") as f:
    json.dump(datos, f, indent=4, ensure_ascii=False)

# Leer JSON desde archivo - json.load()
with open("datos.json", "r", encoding="utf-8") as f:
    datos_leidos = json.load(f)

print(datos_leidos["usuarios"][0]["nombre"])  # "Ana"

# Recorrer JSON
for usuario in datos_leidos["usuarios"]:
    print(f"{usuario['nombre']}: {usuario['edad']}")

# Modificar y guardar
datos_leidos["usuarios"].append({"nombre": "Mar√≠a", "edad": 28})

with open("datos.json", "w", encoding="utf-8") as f:
    json.dump(datos_leidos, f, indent=4, ensure_ascii=False)</div>
                    <div class="vista-previa" style="margin-top: 30px;">
                        <strong>üëÅÔ∏è Vista previa: JSON con Archivos</strong>
                        <div class="preview-content">
                            <div style="background: #ecf0f1; padding: 25px; border-radius: 8px;">
                                <div style="margin-bottom: 20px;">
                                    <strong style="color: #2c3e50;">üíæ json.dump() - Guardar en archivo:</strong>
                                    <div style="display: flex; gap: 15px; margin-top: 10px;">
                                        <div style="flex: 1; background: #3498db; color: white; padding: 15px; border-radius: 5px;">
                                            <strong>Python dict:</strong><br>
                                            <pre style="margin: 5px 0 0 0;">{
  "usuarios": [
    {"nombre": "Ana", "edad": 25}
  ]
}</pre>
                                        </div>
                                        <div style="align-self: center; font-size: 24px;">‚Üí</div>
                                        <div style="flex: 1; background: #2ecc71; color: white; padding: 15px; border-radius: 5px;">
                                            <strong>üìÑ datos.json:</strong><br>
                                            <pre style="margin: 5px 0 0 0;">{
  "usuarios": [
    {"nombre": "Ana", "edad": 25}
  ]
}</pre>
                                        </div>
                                    </div>
                                </div>

                                <div style="margin-bottom: 20px;">
                                    <strong style="color: #2c3e50;">üìÇ json.load() - Leer desde archivo:</strong>
                                    <div style="display: flex; gap: 15px; margin-top: 10px;">
                                        <div style="flex: 1; background: #f39c12; color: white; padding: 15px; border-radius: 5px;">
                                            <strong>üìÑ datos.json:</strong><br>
                                            <pre style="margin: 5px 0 0 0;">{
  "nombre": "Juan",
  "edad": 30
}</pre>
                                        </div>
                                        <div style="align-self: center; font-size: 24px;">‚Üí</div>
                                        <div style="flex: 1; background: #3498db; color: white; padding: 15px; border-radius: 5px;">
                                            <strong>Python dict:</strong><br>
                                            <pre style="margin: 5px 0 0 0;">datos = {
  "nombre": "Juan",
  "edad": 30
}</pre>
                                        </div>
                                    </div>
                                </div>

                                <div>
                                    <strong style="color: #2c3e50;">üîÑ Diferencia load vs loads:</strong>
                                    <div style="background: #9b59b6; color: white; padding: 12px; border-radius: 5px; margin-top: 8px;">
                                        <strong>json.load()</strong> ‚Üí Lee de ARCHIVO<br>
                                        <strong>json.loads()</strong> ‚Üí Lee de STRING
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    </div>

                    <div class="termino" id="json-validar" data-tags="json validar error excepciones">
                        <span class="tag">üìã Validar JSON</span>
                        <p class="significado">Verificar si un string es JSON v√°lido</p>
                        <div class="ejemplo">import json

def es_json_valido(texto):
    """Verifica si un string es JSON v√°lido."""
    try:
        json.loads(texto)
        return True
    except json.JSONDecodeError:
        return False

# Ejemplos
print(es_json_valido('{"nombre": "Ana"}'))  # True
print(es_json_valido('{"nombre": }'))       # False
print(es_json_valido('no es json'))         # False

# Manejo de errores al leer JSON
def cargar_json_seguro(ruta):
    try:
        with open(ruta, "r", encoding="utf-8") as f:
            return json.load(f)
    except FileNotFoundError:
        print(f"Archivo {ruta} no encontrado")
        return None
    except json.JSONDecodeError as e:
        print(f"Error al parsear JSON: {e}")
        return None

# Uso
datos = cargar_json_seguro("config.json")
if datos:
    print("JSON cargado correctamente")</div>
                    <div class="vista-previa" style="margin-top: 30px;">
                        <strong>üëÅÔ∏è Vista previa: Validaci√≥n de JSON</strong>
                        <div class="preview-content">
                            <div style="background: #ecf0f1; padding: 25px; border-radius: 8px;">
                                <div style="margin-bottom: 20px;">
                                    <strong style="color: #2c3e50;">‚úÖ JSON V√°lido:</strong>
                                    <div style="background: #2ecc71; color: white; padding: 15px; border-radius: 5px; margin-top: 8px;">
                                        <strong>Entrada:</strong> '{"nombre": "Ana", "edad": 25}'<br>
                                        <strong>es_json_valido()</strong> ‚Üí True ‚úì
                                    </div>
                                </div>

                                <div style="margin-bottom: 20px;">
                                    <strong style="color: #2c3e50;">‚ùå JSON Inv√°lido:</strong>
                                    <div style="background: #e74c3c; color: white; padding: 15px; border-radius: 5px; margin-top: 8px;">
                                        <strong>Entrada:</strong> '{"nombre": }'<br>
                                        <strong>es_json_valido()</strong> ‚Üí False ‚úó<br>
                                        <em>Error: Valor faltante despu√©s de clave</em>
                                    </div>
                                </div>

                                <div style="margin-bottom: 20px;">
                                    <strong style="color: #2c3e50;">üõ°Ô∏è Manejo de errores:</strong>
                                    <div style="background: #f39c12; color: white; padding: 12px; border-radius: 5px; margin-top: 8px;">
                                        <strong>try/except json.JSONDecodeError</strong><br>
                                        ‚Üí Captura errores de formato JSON<br>
                                        ‚Üí Evita que el programa se detenga
                                    </div>
                                </div>

                                <div>
                                    <strong style="color: #2c3e50;">üìù Errores comunes:</strong>
                                    <div style="background: #9b59b6; color: white; padding: 12px; border-radius: 5px; margin-top: 8px;">
                                        ‚ùå Comillas simples: {'nombre': 'Ana'}<br>
                                        ‚úÖ Comillas dobles: {"nombre": "Ana"}<br><br>
                                        ‚ùå Coma final: {"edad": 25,}<br>
                                        ‚úÖ Sin coma final: {"edad": 25}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    </div>

                    <div class="termino" id="json-usos" data-tags="json api configuracion uso practico">
                        <span class="tag">üìã Usos de JSON en Python</span>
                        <p class="significado">Aplicaciones pr√°cticas del formato JSON</p>
                        <div class="ejemplo"># 1. APIs (peticiones con requests)
import requests
import json

respuesta = requests.get("https://api.ejemplo.com/datos")
datos = respuesta.json()  # Convierte autom√°ticamente

# 2. Archivos de configuraci√≥n
config = {
    "debug": True,
    "puerto": 8080,
    "base_datos": "produccion"
}

with open("config.json", "w") as f:
    json.dump(config, f, indent=4)

# 3. Guardar estado de aplicaci√≥n
estado = {
    "usuario_actual": "ana",
    "tema": "oscuro",
    "ultimo_acceso": "2025-01-15"
}

# 4. Comunicaci√≥n frontend-backend
# Backend env√≠a JSON, frontend lo recibe

# 5. Filtrar datos JSON
usuarios = [
    {"nombre": "Ana", "edad": 25, "pais": "Per√∫"},
    {"nombre": "Juan", "edad": 30, "pais": "Chile"},
    {"nombre": "Mar√≠a", "edad": 28, "pais": "Per√∫"}
]

# Filtrar peruanos
peruanos = [u for u in usuarios if u["pais"] == "Per√∫"]

# Guardar resultado
with open("peruanos.json", "w") as f:
    json.dump(peruanos, f, indent=4)</div>
                    <div class="vista-previa" style="margin-top: 30px;">
                        <strong>üëÅÔ∏è Vista previa: Usos Pr√°cticos de JSON</strong>
                        <div class="preview-content">
                            <div style="background: #ecf0f1; padding: 25px; border-radius: 8px;">
                                <div style="margin-bottom: 20px;">
                                    <strong style="color: #2c3e50;">1. üåê APIs Web:</strong>
                                    <div style="background: #3498db; color: white; padding: 15px; border-radius: 5px; margin-top: 8px;">
                                        <strong>GET</strong> https://api.ejemplo.com/usuarios<br>
                                        ‚Üì<br>
                                        {"usuarios": [{"id": 1, "nombre": "Ana"}]}
                                    </div>
                                </div>

                                <div style="margin-bottom: 20px;">
                                    <strong style="color: #2c3e50;">2. ‚öôÔ∏è Archivo de Configuraci√≥n:</strong>
                                    <div style="display: flex; gap: 15px; margin-top: 10px;">
                                        <div style="flex: 1; background: #f39c12; color: white; padding: 15px; border-radius: 5px;">
                                            <strong>üìÑ config.json:</strong><br>
                                            <pre style="margin: 5px 0 0 0;">{
  "debug": true,
  "puerto": 8080,
  "db": "produccion"
}</pre>
                                        </div>
                                        <div style="align-self: center; font-size: 24px;">‚Üí</div>
                                        <div style="flex: 1; background: #3498db; color: white; padding: 15px; border-radius: 5px;">
                                            <strong>Python lee:</strong><br>
                                            <pre style="margin: 5px 0 0 0;">config["puerto"]
‚Üí 8080</pre>
                                        </div>
                                    </div>
                                </div>

                                <div style="margin-bottom: 20px;">
                                    <strong style="color: #2c3e50;">3. üíæ Guardar Estado:</strong>
                                    <div style="background: #2ecc71; color: white; padding: 12px; border-radius: 5px; margin-top: 8px;">
                                        Usuario actual, preferencias, historial<br>
                                        ‚Üí Persiste entre sesiones de la app
                                    </div>
                                </div>

                                <div>
                                    <strong style="color: #2c3e50;">4. üîÑ Frontend ‚Üî Backend:</strong>
                                    <div style="background: #9b59b6; color: white; padding: 12px; border-radius: 5px; margin-top: 8px;">
                                        JavaScript (frontend) ‚Üí JSON ‚Üí Python (backend)<br>
                                        Formato universal de intercambio de datos
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    </div>

                    <div class="termino" id="binarios" data-tags="binario rb wb imagen pdf">
                        <span class="tag">üìã Archivos Binarios</span>
                        <p class="significado">Leer y escribir archivos no-texto</p>
                        <div class="ejemplo"># Modos binarios: 'rb', 'wb', 'ab'
# Para: im√°genes, PDFs, videos, etc.

# Leer archivo binario
with open("imagen.png", "rb") as f:
    datos = f.read()
    print(type(datos))  # <class 'bytes'>

# Copiar archivo binario
with open("original.pdf", "rb") as origen:
    with open("copia.pdf", "wb") as destino:
        destino.write(origen.read())

# Copiar en chunks (para archivos grandes)
def copiar_archivo(origen, destino, chunk_size=1024):
    with open(origen, "rb") as src:
        with open(destino, "wb") as dst:
            while True:
                chunk = src.read(chunk_size)
                if not chunk:
                    break
                dst.write(chunk)

# Leer primeros bytes (magic number)
with open("archivo.pdf", "rb") as f:
    primeros_bytes = f.read(4)
    print(primeros_bytes)  # b'%PDF'</div>
                    <div class="vista-previa" style="margin-top: 30px;">
                        <strong>üëÅÔ∏è Vista previa: Archivos Binarios</strong>
                        <div class="preview-content">
                            <div style="background: #ecf0f1; padding: 25px; border-radius: 8px;">
                                <div style="margin-bottom: 20px;">
                                    <strong style="color: #2c3e50;">üìÇ Tipos de archivos binarios:</strong>
                                    <div style="background: #3498db; color: white; padding: 12px; border-radius: 5px; margin-top: 8px;">
                                        üñºÔ∏è Im√°genes: .png, .jpg, .gif<br>
                                        üìÑ Documentos: .pdf, .docx<br>
                                        üéµ Audio: .mp3, .wav<br>
                                        üé¨ Video: .mp4, .avi
                                    </div>
                                </div>

                                <div style="margin-bottom: 20px;">
                                    <strong style="color: #2c3e50;">üîÑ Copiar archivo binario:</strong>
                                    <div style="display: flex; gap: 15px; margin-top: 10px;">
                                        <div style="flex: 1; background: #f39c12; color: white; padding: 15px; border-radius: 5px;">
                                            <strong>üìÑ original.png</strong><br>
                                            (modo 'rb')<br>
                                            ‚Üì leer bytes
                                        </div>
                                        <div style="align-self: center; font-size: 24px;">‚Üí</div>
                                        <div style="flex: 1; background: #2ecc71; color: white; padding: 15px; border-radius: 5px;">
                                            <strong>üìÑ copia.png</strong><br>
                                            (modo 'wb')<br>
                                            ‚Üì escribir bytes
                                        </div>
                                    </div>
                                </div>

                                <div style="margin-bottom: 20px;">
                                    <strong style="color: #2c3e50;">üîç Magic Numbers (identificar tipo):</strong>
                                    <div style="background: #9b59b6; color: white; padding: 12px; border-radius: 5px; margin-top: 8px;">
                                        PDF: b'%PDF'<br>
                                        PNG: b'\x89PNG'<br>
                                        ZIP: b'PK\x03\x04'<br>
                                        ‚Üí Primeros bytes identifican el formato
                                    </div>
                                </div>

                                <div>
                                    <strong style="color: #2c3e50;">‚ö†Ô∏è Importante:</strong>
                                    <div style="background: #e74c3c; color: white; padding: 12px; border-radius: 5px; margin-top: 8px;">
                                        Usar 'rb' y 'wb' (NO 'r' o 'w')<br>
                                        Los datos son bytes, no texto
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    </div>

                    <div class="termino" id="csv" data-tags="csv comma separated values">
                        <span class="tag">üìã Archivos CSV</span>
                        <p class="significado">Datos separados por comas</p>
                        <div class="ejemplo">import csv

# Leer CSV
with open("datos.csv", "r", encoding="utf-8") as f:
    lector = csv.reader(f)
    for fila in lector:
        print(fila)  # Lista: ['col1', 'col2', 'col3']

# Leer CSV como diccionario
with open("datos.csv", "r", encoding="utf-8") as f:
    lector = csv.DictReader(f)
    for fila in lector:
        print(fila["nombre"], fila["edad"])

# Escribir CSV
datos = [
    ["nombre", "edad", "ciudad"],
    ["Ana", 25, "Lima"],
    ["Juan", 30, "Madrid"]
]

with open("salida.csv", "w", newline="", encoding="utf-8") as f:
    escritor = csv.writer(f)
    escritor.writerows(datos)

# Escribir desde diccionarios
personas = [
    {"nombre": "Ana", "edad": 25},
    {"nombre": "Juan", "edad": 30}
]

with open("personas.csv", "w", newline="", encoding="utf-8") as f:
    campos = ["nombre", "edad"]
    escritor = csv.DictWriter(f, fieldnames=campos)
    escritor.writeheader()
    escritor.writerows(personas)</div>
                    <div class="vista-previa" style="margin-top: 30px;">
                        <strong>üëÅÔ∏è Vista previa: Archivos CSV</strong>
                        <div class="preview-content">
                            <div style="background: #ecf0f1; padding: 25px; border-radius: 8px;">
                                <div style="margin-bottom: 20px;">
                                    <strong style="color: #2c3e50;">üìÑ Estructura CSV:</strong>
                                    <div style="background: white; padding: 15px; border-radius: 5px; margin-top: 10px; border-left: 4px solid #3498db;">
                                        <pre style="margin: 0; color: #2c3e50;">nombre,edad,ciudad
Ana,25,Lima
Juan,30,Madrid
Mar√≠a,28,Barcelona</pre>
                                    </div>
                                </div>

                                <div style="margin-bottom: 20px;">
                                    <strong style="color: #2c3e50;">üîç csv.reader() - Leer como listas:</strong>
                                    <div style="display: flex; gap: 15px; margin-top: 10px;">
                                        <div style="flex: 1; background: #f39c12; color: white; padding: 15px; border-radius: 5px;">
                                            <strong>datos.csv:</strong><br>
                                            nombre,edad<br>
                                            Ana,25<br>
                                            Juan,30
                                        </div>
                                        <div style="align-self: center; font-size: 24px;">‚Üí</div>
                                        <div style="flex: 1; background: #3498db; color: white; padding: 15px; border-radius: 5px;">
                                            <strong>Python lee:</strong><br>
                                            ['nombre', 'edad']<br>
                                            ['Ana', '25']<br>
                                            ['Juan', '30']
                                        </div>
                                    </div>
                                </div>

                                <div style="margin-bottom: 20px;">
                                    <strong style="color: #2c3e50;">üìã csv.DictReader() - Leer como diccionarios:</strong>
                                    <div style="background: #2ecc71; color: white; padding: 15px; border-radius: 5px; margin-top: 8px;">
                                        <pre style="margin: 0;">{'nombre': 'Ana', 'edad': '25'}
{'nombre': 'Juan', 'edad': '30'}</pre>
                                        ‚Üí Acceso por clave: fila["nombre"]
                                    </div>
                                </div>

                                <div>
                                    <strong style="color: #2c3e50;">üíæ Escribir CSV:</strong>
                                    <div style="background: #9b59b6; color: white; padding: 12px; border-radius: 5px; margin-top: 8px;">
                                        <strong>writer.writerow()</strong> ‚Üí Escribe una fila<br>
                                        <strong>writer.writerows()</strong> ‚Üí Escribe m√∫ltiples filas<br>
                                        <strong>DictWriter.writeheader()</strong> ‚Üí Escribe encabezados
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    </div>

                    <div id="noResults" class="no-results" style="display: none;">
                        No se encontraron t√©rminos que coincidan con tu b√∫squeda.
                    </div>
                </div>
            </section>
        </main>

        <aside class="toc-sidebar">
            <div class="toc-header">üêç Archivos y JSON</div>
            <div class="toc-search-container">
                <input type="text" id="searchInput" class="toc-search-box" placeholder="üîç Buscar t√©rmino...">
            </div>
            <nav>
                <ul class="toc-list">
                    <li class="toc-item"><a href="#introduccion" class="toc-link">üìã Introducci√≥n</a></li>
                    <li class="toc-item"><a href="#open" class="toc-link">Funci√≥n open()</a></li>
                    <li class="toc-item"><a href="#lectura" class="toc-link">Lectura de Archivos</a></li>
                    <li class="toc-item"><a href="#escritura" class="toc-link">Escritura de Archivos</a></li>
                    <li class="toc-item"><a href="#modulo-os" class="toc-link">M√≥dulo os</a></li>
                    <li class="toc-item"><a href="#json-intro" class="toc-link">JSON Introducci√≥n</a></li>
                    <li class="toc-item"><a href="#json-loads-dumps" class="toc-link">loads() y dumps()</a></li>
                    <li class="toc-item"><a href="#json-archivos" class="toc-link">JSON con Archivos</a></li>
                    <li class="toc-item"><a href="#json-validar" class="toc-link">Validar JSON</a></li>
                    <li class="toc-item"><a href="#json-usos" class="toc-link">Usos de JSON</a></li>
                    <li class="toc-item"><a href="#binarios" class="toc-link">Archivos Binarios</a></li>
                    <li class="toc-item"><a href="#csv" class="toc-link">Archivos CSV</a></li>
                </ul>
            </nav>
            <div class="toc-progress">
                <div class="toc-progress-bar" id="tocProgressBar"></div>
            </div>
        </aside>
    </div>

    <footer>
        <p>Python - Sistema de Aprendizaje | <a href="../index.html">Volver a Python</a></p>
    </footer>

    <script src="/assets/js/sidebar-component.js"></script>
    <script src="/assets/js/study-highlight.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const searchInput = document.getElementById('searchInput');
            const terminosContainer = document.getElementById('terminosContainer');
            const noResults = document.getElementById('noResults');
            const terminos = terminosContainer.querySelectorAll('.termino');
            function normalizeText(text) {
                return text.toLowerCase().normalize('NFD').replace(/[\u0300-\u036f]/g, '');
            }
            searchInput.addEventListener('input', function() {
                const query = normalizeText(this.value.trim());
                let found = 0;
                terminos.forEach(termino => {
                    const tags = termino.getAttribute('data-tags') || '';
                    const title = termino.querySelector('.tag')?.textContent || '';
                    const desc = termino.querySelector('.descripcion')?.textContent || '';
                    const ejemplo = termino.querySelector('.ejemplo')?.textContent || '';
                    const searchText = normalizeText(tags + ' ' + title + ' ' + desc + ' ' + ejemplo);
                    if (query === '' || searchText.includes(query)) {
                        termino.style.display = 'block';
                        found++;
                    } else {
                        termino.style.display = 'none';
                    }
                });
                noResults.style.display = found === 0 && query !== '' ? 'block' : 'none';
            });
            const tocLinks = document.querySelectorAll('.toc-link');
            const sections = document.querySelectorAll('.termino, #introduccion');
            window.addEventListener('scroll', function() {
                let current = '';
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    if (scrollY >= sectionTop - 100) {
                        current = section.getAttribute('id');
                    }
                });
                tocLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === '#' + current) {
                        link.classList.add('active');
                    }
                });
                const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
                const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                const scrolled = (winScroll / height) * 100;
                document.getElementById('tocProgressBar').style.width = scrolled + '%';
            });
        });
    </script>
    <script src="../../../assets/js/keyboard-navigation.js"></script>
    <!-- Highlight.js script -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
        // Aplicar highlight.js solo a elementos .ejemplo que no tienen <br> (no son HTML)
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.ejemplo').forEach(function(block) {
                // Solo resaltar si no tiene elementos <br> (no es HTML con sintaxis manual)
                if (block.querySelectorAll('br').length === 0) {
                    block.classList.add('language-python');
                    hljs.highlightElement(block);
                }
            });
        });
    </script>
</body>
</html>
