<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examen Parcial 1 - HTML + CSS</title>
    <link rel="stylesheet" href="/assets/css/sidebar.css">
    <style>
        body { background: #0f0f0f; color: #e0e0e0; font-family: system-ui; margin-left: 280px; padding: 40px; }
        .back-link { position: fixed; top: 20px; left: 300px; background: linear-gradient(135deg, #9C27B0, #7B1FA2); color: #fff; text-decoration: none; padding: 12px 20px; border-radius: 10px; font-weight: 600; z-index: 1001; }
        .quiz-header { background: rgba(156, 39, 176, 0.1); border-left: 4px solid #9C27B0; padding: 30px; border-radius: 8px; margin: 80px 0 30px 0; }
        .quiz-header h1 { color: #9C27B0; margin: 0; }
        .stats { display: flex; gap: 30px; margin: 20px 0; }
        .stat { background: rgba(156, 39, 176, 0.1); padding: 15px 25px; border-radius: 8px; flex: 1; }
        .stat-value { font-size: 2em; font-weight: bold; color: #9C27B0; }
        .question-card { background: rgba(30, 30, 30, 0.5); border: 2px solid #2a2a2a; border-radius: 12px; padding: 30px; margin: 25px 0; }
        .question-number { color: #9C27B0; font-weight: 600; margin-bottom: 15px; }
        .question-text { font-size: 1.2em; margin-bottom: 25px; line-height: 1.6; }
        .option { background: rgba(156, 39, 176, 0.05); border: 2px solid #2a2a2a; padding: 15px 20px; margin: 10px 0; border-radius: 8px; cursor: pointer; transition: all 0.3s; display: flex; align-items: center; gap: 15px; }
        .option:hover { border-color: #9C27B0; background: rgba(156, 39, 176, 0.1); }
        .option.selected { border-color: #9C27B0; background: rgba(156, 39, 176, 0.2); }
        .option.correct { border-color: #4CAF50; background: rgba(76, 175, 80, 0.2); }
        .option.incorrect { border-color: #f44336; background: rgba(244, 67, 54, 0.2); }
        .radio { width: 20px; height: 20px; border: 2px solid #666; border-radius: 50%; display: flex; align-items: center; justify-content: center; }
        .option.selected .radio { border-color: #9C27B0; }
        .option.selected .radio::after { content: ''; width: 12px; height: 12px; background: #9C27B0; border-radius: 50%; }
        .explanation { background: rgba(74, 144, 226, 0.1); border-left: 4px solid #4a90e2; padding: 20px; margin-top: 20px; border-radius: 8px; display: none; }
        .explanation.show { display: block; }
        .btn { background: linear-gradient(135deg, #9C27B0, #7B1FA2); color: #fff; border: none; padding: 15px 40px; border-radius: 8px; font-size: 1.1em; font-weight: 600; cursor: pointer; margin: 20px 0; transition: all 0.3s; }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(156, 39, 176, 0.4); }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .result { background: linear-gradient(135deg, #4CAF50 0%, #388E3C 100%); color: #fff; padding: 40px; border-radius: 12px; text-align: center; margin: 30px 0; display: none; }
        .result.show { display: block; }
        .result.fail { background: linear-gradient(135deg, #f44336 0%, #c62828 100%); }
        .result h2 { font-size: 3em; margin: 0 0 20px 0; }
        code { background: #1a1a1a; padding: 2px 8px; border-radius: 4px; color: #4a90e2; font-family: 'Courier New', monospace; }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">‚Üê Volver a HTML</a>

    <div class="quiz-header">
        <h1>üèÜ Examen Parcial 1 - HTML + CSS</h1>
        <p style="margin: 10px 0 0 0;">20 preguntas | 70% para aprobar | Revisa las explicaciones</p>
    </div>

    <div class="stats">
        <div class="stat">
            <div class="stat-label">Preguntas</div>
            <div class="stat-value" id="totalQuestions">20</div>
        </div>
        <div class="stat">
            <div class="stat-label">Respondidas</div>
            <div class="stat-value" id="answeredQuestions">0</div>
        </div>
        <div class="stat">
            <div class="stat-label">Progreso</div>
            <div class="stat-value" id="progressPercentage">0%</div>
        </div>
    </div>

    <div id="questionsContainer"></div>

    <button class="btn" id="submitBtn" disabled onclick="submitExam()">Entregar Examen</button>

    <div class="result" id="result"></div>

    <script src="/assets/js/sidebar-component.js"></script>
    <script>
        const questions = [
            // HTML QUESTIONS (1-10)
            {
                id: 1,
                text: "¬øCu√°l es la estructura HTML5 correcta?",
                options: [
                    "<html><head></head><body></body></html>",
                    "<!DOCTYPE html><html><head></head><body></body></html>",
                    "<DOCTYPE><html><head><body></body></head></html>",
                    "<html5><head></head><body></body></html5>"
                ],
                correct: 1,
                explanation: "La estructura correcta incluye <!DOCTYPE html> al inicio, seguido de <html>, <head> y <body> en ese orden."
            },
            {
                id: 2,
                text: "¬øQu√© m√©todo de formulario env√≠a datos en el body de la petici√≥n?",
                options: ["GET", "POST", "PUT", "SEND"],
                correct: 1,
                explanation: "POST env√≠a datos en el cuerpo (body) de la petici√≥n, de forma oculta. GET env√≠a datos en la URL."
            },
            {
                id: 3,
                text: "¬øQu√© etiqueta sem√°ntica define el contenido principal de una p√°gina?",
                options: ["<content>", "<section>", "<main>", "<article>"],
                correct: 2,
                explanation: "<main> define el contenido principal √∫nico de la p√°gina. Debe haber solo uno por p√°gina."
            },
            {
                id: 4,
                text: "¬øQu√© atributo une 2 columnas en una tabla?",
                options: ["rowspan='2'", "colspan='2'", "merge='2'", "join='2'"],
                correct: 1,
                explanation: "colspan='2' une 2 columnas horizontalmente. rowspan une filas verticalmente."
            },
            {
                id: 5,
                text: "¬øCu√°l input es correcto para email con validaci√≥n HTML5?",
                options: [
                    "<input type='text' name='email'>",
                    "<input type='email' name='email' required>",
                    "<input type='mail' required>",
                    "<input email required>"
                ],
                correct: 1,
                explanation: "<input type='email' required> valida formato de email autom√°ticamente y es obligatorio."
            },
            {
                id: 6,
                text: "¬øQu√© diferencia hay entre <ul> y <ol>?",
                options: [
                    "No hay diferencia",
                    "<ul> es ordenada, <ol> no ordenada",
                    "<ul> no ordenada (bullets), <ol> ordenada (n√∫meros)",
                    "<ul> es inline, <ol> es block"
                ],
                correct: 2,
                explanation: "<ul> crea lista no ordenada con bullets. <ol> crea lista ordenada con n√∫meros."
            },
            {
                id: 7,
                text: "¬øQu√© atributo hace que un enlace abra en nueva pesta√±a?",
                options: ["target='_blank'", "new='true'", "tab='new'", "window='new'"],
                correct: 0,
                explanation: "target='_blank' abre el enlace en una nueva pesta√±a o ventana del navegador."
            },
            {
                id: 8,
                text: "¬øCu√°l etiqueta NO requiere etiqueta de cierre?",
                options: ["<p>", "<img>", "<div>", "<span>"],
                correct: 1,
                explanation: "<img> es un elemento vac√≠o (void element) que no necesita etiqueta de cierre."
            },
            {
                id: 9,
                text: "¬øQu√© hace el atributo 'required' en un input?",
                options: [
                    "Lo hace de solo lectura",
                    "Lo hace obligatorio (no se puede enviar vac√≠o)",
                    "Lo hace invisible",
                    "Lo hace num√©rico"
                ],
                correct: 1,
                explanation: "El atributo 'required' hace que el campo sea obligatorio. El formulario no se enviar√° si est√° vac√≠o."
            },
            {
                id: 10,
                text: "¬øCu√°l es la diferencia entre GET y POST en formularios?",
                options: [
                    "No hay diferencia",
                    "GET: datos en URL visible, POST: datos en body oculto",
                    "GET es m√°s seguro que POST",
                    "POST es m√°s r√°pido que GET"
                ],
                correct: 1,
                explanation: "GET env√≠a datos en la URL (visible, limitado). POST env√≠a datos en el body (oculto, ilimitado, m√°s seguro para contrase√±as)."
            },

            // CSS QUESTIONS (11-20)
            {
                id: 11,
                text: "¬øCu√°l selector tiene MAYOR especificidad?",
                options: [".clase", "#id", "elemento", "*"],
                correct: 1,
                explanation: "Especificidad: #id (100) > .clase (10) > elemento (1) > * (0). !important tiene m√°xima prioridad."
            },
            {
                id: 12,
                text: "¬øQu√© propiedad del Box Model est√° FUERA del border?",
                options: ["padding", "margin", "content", "outline"],
                correct: 1,
                explanation: "Orden Box Model de dentro hacia fuera: content ‚Üí padding ‚Üí border ‚Üí margin. Margin est√° fuera."
            },
            {
                id: 13,
                text: "¬øQu√© hace 'display: flex' en un contenedor?",
                options: [
                    "Lo oculta",
                    "Lo hace flexible para alinear hijos horizontal o verticalmente",
                    "Le da flexibilidad al tama√±o",
                    "Lo hace transparente"
                ],
                correct: 1,
                explanation: "display: flex crea un contenedor flexible que permite alinear y distribuir elementos hijos f√°cilmente."
            },
            {
                id: 14,
                text: "¬øCu√°l position SACA un elemento del flujo normal del documento?",
                options: ["static", "relative", "absolute", "inherit"],
                correct: 2,
                explanation: "position: absolute saca el elemento del flujo normal. Se posiciona relativo al ancestro 'positioned' m√°s cercano."
            },
            {
                id: 15,
                text: "¬øQu√© propiedad centra elementos horizontalmente en Flexbox?",
                options: ["align-items", "justify-content", "text-align", "center"],
                correct: 1,
                explanation: "En Flexbox: justify-content centra horizontalmente (eje principal), align-items centra verticalmente (eje cruzado)."
            },
            {
                id: 16,
                text: "¬øCu√°l unidad es relativa al font-size del root (html)?",
                options: ["px", "em", "rem", "%"],
                correct: 2,
                explanation: "rem (root em) es relativo al font-size del <html>. em es relativo al font-size del elemento actual."
            },
            {
                id: 17,
                text: "¬øQu√© hace el selector '.clase1.clase2' (sin espacio)?",
                options: [
                    "Selecciona clase1 o clase2",
                    "Selecciona elementos con AMBAS clases",
                    "Selecciona clase2 dentro de clase1",
                    "Es inv√°lido"
                ],
                correct: 1,
                explanation: ".clase1.clase2 selecciona elementos que tienen AMBAS clases simult√°neamente. Con espacio (.clase1 .clase2) selecciona clase2 dentro de clase1."
            },
            {
                id: 18,
                text: "¬øPara qu√© sirve @media en CSS?",
                options: [
                    "Importar archivos",
                    "Crear animaciones",
                    "Responsive design (estilos seg√∫n tama√±o de pantalla)",
                    "Definir fuentes"
                ],
                correct: 2,
                explanation: "@media permite aplicar estilos condicionales seg√∫n caracter√≠sticas del dispositivo (ancho, alto, orientaci√≥n) para dise√±o responsive."
            },
            {
                id: 19,
                text: "¬øQu√© diferencia hay entre 'display: none' y 'visibility: hidden'?",
                options: [
                    "No hay diferencia",
                    "none oculta y NO ocupa espacio, hidden oculta pero S√ç ocupa espacio",
                    "none es permanente, hidden es temporal",
                    "hidden es m√°s r√°pido"
                ],
                correct: 1,
                explanation: "display: none oculta el elemento y NO ocupa espacio en el layout. visibility: hidden lo oculta pero mantiene el espacio."
            },
            {
                id: 20,
                text: "¬øQu√© pseudoclase selecciona un elemento al pasar el mouse?",
                options: [":active", ":hover", ":focus", ":visited"],
                correct: 1,
                explanation: ":hover se activa cuando el cursor del mouse est√° sobre el elemento. :active cuando se hace clic, :focus cuando tiene el foco."
            }
        ];

        let userAnswers = {};

        function renderQuestions() {
            const container = document.getElementById('questionsContainer');
            container.innerHTML = questions.map(q => `
                <div class="question-card" id="q${q.id}">
                    <div class="question-number">Pregunta ${q.id} de ${questions.length}</div>
                    <div class="question-text">${q.text}</div>
                    ${q.options.map((opt, idx) => `
                        <div class="option" onclick="selectOption(${q.id}, ${idx})">
                            <div class="radio"></div>
                            <div>${opt}</div>
                        </div>
                    `).join('')}
                    <div class="explanation" id="exp${q.id}">
                        <strong>‚úì Explicaci√≥n:</strong> ${q.explanation}
                    </div>
                </div>
            `).join('');
        }

        function selectOption(questionId, optionIdx) {
            if (document.getElementById('result').classList.contains('show')) return;
            
            userAnswers[questionId] = optionIdx;
            
            const card = document.getElementById(`q${questionId}`);
            card.querySelectorAll('.option').forEach((opt, idx) => {
                opt.classList.toggle('selected', idx === optionIdx);
            });
            
            updateStats();
        }

        function updateStats() {
            const answered = Object.keys(userAnswers).length;
            document.getElementById('answeredQuestions').textContent = answered;
            document.getElementById('progressPercentage').textContent = Math.round((answered / questions.length) * 100) + '%';
            document.getElementById('submitBtn').disabled = answered < questions.length;
        }

        function submitExam() {
            let correctCount = 0;
            
            questions.forEach(q => {
                const userAnswer = userAnswers[q.id];
                const isCorrect = userAnswer === q.correct;
                if (isCorrect) correctCount++;
                
                const card = document.getElementById(`q${q.id}`);
                const options = card.querySelectorAll('.option');
                
                options.forEach((opt, idx) => {
                    if (idx === q.correct) {
                        opt.classList.add('correct');
                    } else if (idx === userAnswer && !isCorrect) {
                        opt.classList.add('incorrect');
                    }
                    opt.style.pointerEvents = 'none';
                });
                
                document.getElementById(`exp${q.id}`).classList.add('show');
            });
            
            const percentage = Math.round((correctCount / questions.length) * 100);
            const passed = percentage >= 70;
            
            const resultDiv = document.getElementById('result');
            resultDiv.className = passed ? 'result show' : 'result show fail';
            resultDiv.innerHTML = `
                <h2>${passed ? 'üéâ ¬°APROBADO!' : 'üòî No Aprobado'}</h2>
                <p style="font-size: 1.5em; margin: 20px 0;">
                    ${correctCount} de ${questions.length} correctas (${percentage}%)
                </p>
                <p style="font-size: 1.1em; opacity: 0.9;">
                    ${passed 
                        ? 'Excelente trabajo! Est√°s listo para el examen real.' 
                        : 'Necesitas 70% para aprobar. Revisa las explicaciones y vuelve a intentar.'}
                </p>
                <button class="btn" onclick="location.reload()" style="margin-top: 20px;">
                    ${passed ? 'Volver a Intentar' : 'Reintentar Examen'}
                </button>
            `;
            
            resultDiv.scrollIntoView({ behavior: 'smooth' });
            document.getElementById('submitBtn').style.display = 'none';
        }

        renderQuestions();
    </script>
</body>
</html>
